<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Disable Browser Caching for Development -->

    <title>Circle Maker: Interactive Desmos SAT Hack | Practix</title>
    <meta name="description"
        content="Visualize circle equations instantly. Drag sliders to change center and radius. The fastest way to master SAT circle equations.">

    <!-- Styles -->
    <link rel="stylesheet" href="../../assets/styles/styles.v4.css?v=1771360000">
    <link rel="stylesheet" href="../topics.css?v=1770561723">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@500;700&display=swap"
        rel="stylesheet">

    <!-- Desmos API script removed to bypass 403 blocks -->
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!-- Practix Scripts -->
    <script src="../../assets/scripts/practix-nav.js?v=1771354000"></script>
    <script src="../../assets/scripts/sidebar.js?v=1771528000"></script>
    <script src="../../assets/scripts/practix-footer.js?v=1770561723"></script>
    <script src="../../assets/scripts/pulse-relay.js?v=1770561723"></script>

    <style>
        .calculator-container {
            width: 100%;
            height: 450px;
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid #eee;
            margin: 1.5rem 0;
            background: #fff;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .visual-proof-card {
            background: linear-gradient(135deg, #fff 0%, #f8f9ff 100%);
            border: 2px solid #eef2ff;
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 3rem;
        }

        .slider-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: white;
            border-radius: 12px;
            border: 1px solid #e0e7ff;
        }

        .slider-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .slider-group label {
            font-weight: 600;
            color: #3730a3;
            font-size: 0.9rem;
            display: flex;
            justify-content: space-between;
        }

        .slider-group input[type="range"] {
            width: 100%;
            accent-color: #4f46e5;
        }

        .math-box {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.3rem;
            color: #1e1b4b;
            text-align: center;
            padding: 1.5rem;
            background: #eef2ff;
            border-radius: 12px;
            margin: 1rem 0;
            border: 1px solid #dbeafe;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 1rem 0;
        }

        .metric-card {
            background: white;
            padding: 0.75rem;
            border-radius: 8px;
            border: 1px solid #e0e7ff;
            text-align: center;
        }

        .metric-value {
            font-weight: 700;
            color: #4f46e5;
            font-size: 1.1rem;
        }

        .metric-label {
            font-size: 0.75rem;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .magic-tag {
            display: inline-block;
            background: #4f46e5;
            color: white;
            padding: 0.2rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            margin-bottom: 0.5rem;
        }
    </style>
</head>

<body>
    <div class="page-bg"></div>

    <div class="page-container">
        <!-- AI Navigation Rails -->
        <aside class="narrow-rail" id="narrow-rail"></aside>
        <aside class="command-sidebar">
            <div class="sidebar-search-container">
                <span class="search-icon-fixed">üîç</span>
                <input type="text" id="sidebar-search" class="sidebar-search-input"
                    placeholder="Search topics... (Press '/')">
            </div>
            <div id="sidebar-tree" style="flex: 1; overflow-y: auto;"></div>
        </aside>

        <!-- Main Stage -->
        <main class="main-stage">
            <div class="stage-content-scroll">
                <nav class="breadcrumb">
                    <a href="../../index.html">Home</a> / <a href="../index.html">Desmos Hacks</a> / <span>Circle
                        Maker</span>
                </nav>

                <section class="topic-hero">
                    <div class="magic-tag">Concentration Core v1</div>
                    <h1>Circle Maker: Visual Proof</h1>
                    <p class="hook">Don't memorize \((x-h)^2 + (y-k)^2 = r^2\). Just watch it happen.</p>
                </section>

                <!-- The Interactive Visual Proof -->
                <div class="visual-proof-card">
                    <h3>1. The Visual Proof</h3>
                    <p>Move the sliders to see how the center \((h, k)\) and radius \(r\) transform the circle.</p>

                    <div class="math-box" id="dynamic-equation">
                        <!-- Standard and General sections will be injected here -->
                    </div>

                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-label">Area (&pi;r&sup2;)</div>
                            <div class="metric-value"><span id="val-area">50.3</span></div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Circumference (2&pi;r)</div>
                            <div class="metric-value"><span id="val-circ">25.1</span></div>
                        </div>
                    </div>

                    <div id="calculator" class="calculator-container" style="background: #fff; position: relative;">
                        <!-- Native SVG Graphing Engine (Mimics Desmos) -->
                        <svg id="graph-svg" viewBox="0 0 400 400" preserveAspectRatio="xMidYMid meet"
                            style="width:100%; height:100%; display: block; border-radius: 12px;">
                            <!-- Major/Minor Grid lines will be injected here -->
                            <g id="grid-lines"></g>
                            <g id="axes">
                                <!-- Axes Labels -->
                                <text x="385" y="195" font-size="12" fill="#94a3b8" font-weight="700">x</text>
                                <text x="210" y="20" font-size="12" fill="#94a3b8" font-weight="700">y</text>

                                <!-- Axis Lines -->
                                <line x1="0" y1="200" x2="400" y2="200" stroke="#94a3b8" stroke-width="2" />
                                <!-- x-axis -->
                                <line x1="200" y1="0" x2="200" y2="400" stroke="#94a3b8" stroke-width="2" />
                                <!-- y-axis -->
                            </g>

                            <!-- The Circle -->
                            <circle id="plot-circle" cx="200" cy="200" r="80" stroke="#4f46e5" stroke-width="3"
                                fill="rgba(79, 70, 229, 0.08)" />

                            <!-- Radius Line -->
                            <line id="plot-radius-line" x1="200" y1="200" x2="280" y2="200" stroke="#818cf8"
                                stroke-width="3" stroke-dasharray="6,4" />

                            <!-- Center point -->
                            <circle id="plot-center" cx="200" cy="200" r="5" fill="#3730a3" />

                            <!-- Radius Tag Label -->
                            <g id="radius-tag">
                                <rect id="tag-bg" x="0" y="0" width="40" height="20" rx="4" fill="#4f46e5" />
                                <text id="tag-text" x="0" y="0" fill="white" font-size="10" font-weight="700"
                                    text-anchor="middle" dominant-baseline="middle">r=4</text>
                            </g>
                        </svg>
                    </div>

                    <div class="slider-controls">
                        <div class="slider-group">
                            <label>Center X (h): <span id="label-h" style="color:#4f46e5">0</span></label>
                            <input type="range" id="slider-h" min="-10" max="10" step="1" value="0">
                        </div>
                        <div class="slider-group">
                            <label>Center Y (k): <span id="label-k" style="color:#4f46e5">0</span></label>
                            <input type="range" id="slider-k" min="-10" max="10" step="1" value="0">
                        </div>
                        <div class="slider-group">
                            <label>Radius (r): <span id="label-r" style="color:#4f46e5">4</span></label>
                            <input type="range" id="slider-r" min="0.5" max="10" step="0.5" value="4">
                        </div>
                    </div>
                </div>

                <!-- The Killer Trick Section transformed to SAT Challenge -->
                <div class="sat-problem-card" style="margin-bottom: 3rem;">
                    <h3 class="sat-problem-header">
                        <span>Practice Challenge</span> General Form of a Circle
                    </h3>
                    <p style="margin: 1.5rem 0;">
                        Find the radius of the circle in the xy-plane with the following equation:
                    </p>
                    <div class="formula-display">
                        \[x^2 + y^2 + 4x - 6y - 3 = 0\]
                    </div>
                    <div class="sat-option-grid" style="margin-top: 2rem;">
                        <div class="sat-option" onclick="checkAnswer(this, false)">(A) 2</div>
                        <div class="sat-option" onclick="checkAnswer(this, false)">(B) 3</div>
                        <div class="sat-option" onclick="checkAnswer(this, true)">(C) 4</div>
                        <div class="sat-option" onclick="checkAnswer(this, false)">(D) 5</div>
                    </div>

                    <details class="practix-reveal" style="margin-top: 1.5rem;">
                        <summary>Click to see the "Desmos Speed-Run"</summary>
                        <div class="solution-content">
                            <h4>Quick Strategy</h4>
                            <p>1. Type the equation exactly into Desmos.</p>
                            <p>2. Draw a horizontal line segment through the center to find the diameter. Since the
                                center is at \((-2, 3)\), type <code>y = 3</code>.</p>
                            <p>3. Restrict the domain to the edges of the circle: <code>{-6 &le; x &le; 2}</code>.</p>

                            <div style="margin: 1.5rem 0; text-align: center;">
                                <img src="../../assets/images/desmos-radius-hack.png" alt="Desmos Radius Trick"
                                    style="max-width: 100%; border-radius: 8px; border: 1px solid #e2e8f0; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);">
                            </div>

                            <p>4. The length of this segment is the diameter (\(-6\) to \(2\) is \(8\)).</p>
                            <p>5. Since the diameter is \(8\), the <strong>radius is \(4\).</strong></p>

                            <div class="shortcut" style="margin-top: 1rem; border-color: #bbf7d0; background: #f0fdf4;">
                                <strong>Formula Check:</strong><br>
                                \( r = \sqrt{h^2 + k^2 - F} = \sqrt{(-2)^2 + 3^2 - (-3)} = \sqrt{4 + 9 + 3} = \sqrt{16}
                                = 4 \)
                            </div>
                        </div>
                    </details>
                </div>

                <!-- Practice Challenge -->
                <div class="sat-problem-card">
                    <h3 class="sat-problem-header">
                        <span>Hard Challenge</span> Circle-Line Intersection
                    </h3>
                    <p style="margin: 1.5rem 0;">
                        A circle in the xy-plane has equation \((x-3)^2 + (y+1)^2 = 25\).
                        If a line has equation \(y = 3\), at what two x-coordinates does the line intersect the circle?
                    </p>
                    <div class="sat-option-grid">
                        <div class="sat-option" onclick="checkAnswer(this, true)">(A) \(-1\) and \(7\)</div>
                        <div class="sat-option" onclick="checkAnswer(this, false)">(B) \(0\) and \(6\)</div>
                        <div class="sat-option" onclick="checkAnswer(this, false)">(C) \(1\) and \(5\)</div>
                        <div class="sat-option" onclick="checkAnswer(this, false)">(D) \(-2\) and \(8\)</div>
                    </div>

                    <details class="practix-reveal" style="margin-top: 1.5rem;">
                        <summary>Click to see the "Desmos Speed-Run"</summary>
                        <div class="solution-content">
                            <h4>Don't solve algebraically.</h4>
                            <p>1. Type <code>(x-3)^2 + (y+1)^2 = 25</code></p>
                            <p>2. Type <code>y = 3</code></p>
                            <p>3. Click the gray intersection dots!</p>
                            <p><strong>Desmos shows (-1, 3) and (7, 3) instantly.</strong> The answer is (A).</p>
                        </div>
                    </details>
                </div>

                <footer style="margin-top: 5rem;"></footer>
            </div>
        </main>
    </div>

    <!-- Interactivity Logic -->
    <script>
        // SVG Graph Configuration
        const svg = document.getElementById('graph-svg');
        const gridGroup = document.getElementById('grid-lines');
        const plotCircle = document.getElementById('plot-circle');
        const plotCenter = document.getElementById('plot-center');
        const radiusLine = document.getElementById('plot-radius-line');
        const radiusTag = document.getElementById('radius-tag');
        const tagText = document.getElementById('tag-text');
        const tagBg = document.getElementById('tag-bg');

        const VIEW_SIZE = 400; // viewBox size
        const MATH_RANGE = 20; // total units visible (-10 to 10)
        const PIXELS_PER_UNIT = VIEW_SIZE / MATH_RANGE; // 20px per unit

        // Draw Desmos-style Grid
        function drawGrid() {
            let html = "";
            // Minor grid lines (every 1 unit)
            for (let i = -10; i <= 10; i++) {
                const pos = 200 + (i * PIXELS_PER_UNIT);

                // Vertical lines
                html += `<line x1="${pos}" y1="0" x2="${pos}" y2="400" stroke="#f1f5f9" stroke-width="1" />`;
                // Horizontal lines
                html += `<line x1="0" y1="${pos}" x2="400" y2="${pos}" stroke="#f1f5f9" stroke-width="1" />`;
            }

            // Major grid lines (every 5 units)
            for (let i = -10; i <= 10; i += 5) {
                const pos = 200 + (i * PIXELS_PER_UNIT);
                if (i === 0) continue; // skip axes

                // Vertical
                html += `<line x1="${pos}" y1="0" x2="${pos}" y2="400" stroke="#e2e8f0" stroke-width="1" />`;
                // Horizontal
                html += `<line x1="0" y1="${pos}" x2="400" y2="${pos}" stroke="#e2e8f0" stroke-width="1" />`;

                // Numbers
                html += `<text x="${pos}" y="215" font-size="10" fill="#94a3b8" text-anchor="middle">${i}</text>`;
                html += `<text x="185" y="${400 - pos + 5}" font-size="10" fill="#94a3b8" text-anchor="end">${i}</text>`;
            }
            gridGroup.innerHTML = html;
        }

        // Sliders
        const hSlider = document.getElementById('slider-h');
        const kSlider = document.getElementById('slider-k');
        const rSlider = document.getElementById('slider-r');

        // Labels
        const lblH = document.getElementById('label-h');
        const lblK = document.getElementById('label-k');
        const lblR = document.getElementById('label-r');

        function updateCircle() {
            const h = parseFloat(hSlider.value);
            const k = parseFloat(kSlider.value);
            const r = parseFloat(rSlider.value);
            const r2 = r * r;

            // Update UI Labels
            lblH.textContent = h;
            lblK.textContent = k;
            lblR.textContent = r;

            // Standard Form Text
            const hSign = h >= 0 ? '-' : '+';
            const kSign = k >= 0 ? '-' : '+';
            const hVal = Math.abs(h);
            const kVal = Math.abs(k);

            // General Form Calculations
            const D = -2 * h;
            const E = -2 * k;
            const F = h * h + k * k - r2;

            const Dstr = D === 0 ? "" : (D > 0 ? `+ ${D}x` : `${D}x`);
            const Estr = E === 0 ? "" : (E > 0 ? `+ ${E}y` : `${E}y`);
            const Fstr = F === 0 ? "" : (F > 0 ? `+ ${F.toFixed(1)}` : `- ${Math.abs(F).toFixed(1)}`);

            // Re-render MathJax Equation
            const eqBox = document.getElementById('dynamic-equation');
            if (eqBox && window.MathJax) {
                eqBox.innerHTML = `
                    <div style="font-size: 0.8rem; color: #4f46e5; text-transform: uppercase; font-weight: 700; margin-bottom: 0.5rem;">Standard Form</div>
                    \\[(x ${hSign} ${hVal})^2 + (y ${kSign} ${kVal})^2 = ${r2.toFixed(1)}\\]
                    <div style="margin-top: 1rem; border-top: 1px solid #dbeafe; padding-top: 1rem;">
                        <div style="font-size: 0.8rem; color: #4f46e5; text-transform: uppercase; font-weight: 700; margin-bottom: 0.5rem;">General Form</div>
                        \\[x^2 + y^2 ${Dstr} ${Estr} ${Fstr} = 0\\]
                    </div>
                `;
                MathJax.typesetPromise([eqBox]);
            }

            // Update Metrics
            document.getElementById('val-area').textContent = (Math.PI * r2).toFixed(1);
            document.getElementById('val-circ').textContent = (2 * Math.PI * r).toFixed(1);

            // --- Update SVG Plot ---
            const svgX = 200 + (h * PIXELS_PER_UNIT);
            const svgY = 200 - (k * PIXELS_PER_UNIT); // SVG Y is inverted
            const svgR = r * PIXELS_PER_UNIT;

            // Main Circle
            if (plotCircle) {
                plotCircle.setAttribute('cx', svgX);
                plotCircle.setAttribute('cy', svgY);
                plotCircle.setAttribute('r', svgR);
            }

            // Center Point
            if (plotCenter) {
                plotCenter.setAttribute('cx', svgX);
                plotCenter.setAttribute('cy', svgY);
            }

            // Radius Line (from center to right edge)
            if (radiusLine) {
                radiusLine.setAttribute('x1', svgX);
                radiusLine.setAttribute('y1', svgY);
                radiusLine.setAttribute('x2', svgX + svgR);
                radiusLine.setAttribute('y2', svgY);
            }

            // Tag Label
            if (radiusTag) {
                const tagX = svgX + (svgR / 2);
                const tagY = svgY - 12;
                radiusTag.setAttribute('transform', `translate(${tagX}, ${tagY})`);
                tagText.textContent = `r=${r}`;

                // Adjust tag width based on text
                const textWidth = r < 10 ? 30 : 40;
                tagBg.setAttribute('width', textWidth);
                tagBg.setAttribute('x', -textWidth / 2);
                tagBg.setAttribute('y', -10);
            }
        }

        hSlider.addEventListener('input', updateCircle);
        kSlider.addEventListener('input', updateCircle);
        rSlider.addEventListener('input', updateCircle);

        // Initial setup
        drawGrid();
        updateCircle();

        // Answer checking
        function checkAnswer(el, isCorrect) {
            if (isCorrect) {
                el.classList.add('correct');
                el.style.backgroundColor = '#dcfce7';
                el.style.borderColor = '#10b981';
            } else {
                el.classList.add('incorrect');
                el.style.backgroundColor = '#fee2e2';
                el.style.borderColor = '#ef4444';
            }
        }
    </script>

    <script src="../../assets/scripts/floating-calculator.js?v=1771528000"></script>
    <script src="../../assets/scripts/desmos-calculator.js?v=1.2"></script>
</body>

</html>